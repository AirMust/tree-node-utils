!function(e,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define("tree-node-utils",[],r):"object"==typeof exports?exports["tree-node-utils"]=r():e["tree-node-utils"]=r()}("undefined"!=typeof self?self:this,function(){return function(e){function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}var t={};return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},r.p="",r(r.s=0)}([function(e,r,t){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(r,"__esModule",{value:!0});var i=t(1);Object.defineProperty(r,"default",{enumerable:!0,get:function(){return n(i).default}}),e.exports=r.default},function(e,r,t){"use strict";function n(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}function i(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(r,"__esModule",{value:!0});var o=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},u=function(){function e(e,r){for(var t=0;t<r.length;t++){var n=r[t];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(r,t,n){return t&&e(r.prototype,t),n&&e(r,n),r}}(),l=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};i(this,e),this.keyField=r.keyField||"key",this.childrenField=r.childrenField||"children"}return u(e,[{key:"hasChildren",value:function(e){var r=e[this.childrenField];return r&&r.length>0}},{key:"isBranch",value:function(e){var r=e[this.childrenField];return r&&r.length>=0}},{key:"getNodeByKey",value:function(e,r){var t=null,n=this,i=!0,o=!1,u=void 0;try{for(var l,a=e[Symbol.iterator]();!(i=(l=a.next()).done);i=!0){var f=l.value;if(f[n.keyField]===r?t=f:n.hasChildren(f)&&(t=n.getNodeByKey(f[n.childrenField],r)),t)break}}catch(e){o=!0,u=e}finally{try{!i&&a.return&&a.return()}finally{if(o)throw u}}return t}},{key:"findNodes",value:function(e,r){var t=[],i=this,o=!0,u=!1,l=void 0;try{for(var a,f=e[Symbol.iterator]();!(o=(a=f.next()).done);o=!0){var c=a.value;if(r(c)&&(t=[].concat(n(t),[c])),i.hasChildren(c)){var d=i.findNodes(c[i.childrenField],r);t=[].concat(n(t),n(d))}}}catch(e){u=!0,l=e}finally{try{!o&&f.return&&f.return()}finally{if(u)throw l}}return t}},{key:"filterNode",value:function(e,r){var t=null,n=this,i=n.isBranch(e)?e[n.childrenField].map(function(e){return n.filterNode(e,r)}).filter(function(e){return null!==e}):null,o=i&&i.length>0;if(r(e)||o){var u=i?{children:i}:{};t=Object.assign({},e,u)}return t}},{key:"filterNodes",value:function(e,r){var t=this,n=function(e){return t.filterNode(e,r)};return e.map(function(e){return t.filterNode(e,n)}).filter(function(e){return null!==e})}},{key:"sortNode",value:function(e,r){var t=this;if(t.hasChildren(e)){var i=[].concat(n(e[t.childrenField])).sort(r).map(function(e){return t.sortNode(e,r)});return o({},e,{children:i})}return e}},{key:"sortNodes",value:function(e,r){var t=this;return e.sort(r).map(function(e){return t.sortNode(e,r)})}}]),e}();r.default=l,e.exports=r.default}])});